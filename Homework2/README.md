# Onchain-git

Проект реализует систему управления версиями смарт-контрактов через UUPS прокси с возможностью отката к предыдущим реализациям. Каждое изменение версии фиксируется в истории, что позволяет безопасно обновлять логику контрактов.  
Особенности реализации продемонстрированы в тестах.

### Основные компоненты
1. **Прокси (MyProxy)**
   - Основной контракт, который всегда остается на блокчейне
   - Передает вызовы на текущую версию логики
   - Только владелец может менять версию

2. **Контроллер версий (GitContract)**
   - Хранит историю всех версий
   - Позволяет обновлять и откатывать версии
   - Управляется владельцем через специальные функции

3. **Версии логики (StorageV1, V2, V3)**
   - Реализации контракта с разной функциональностью
   - Каждая новая версия добавляется в историю


## Адреса в локальной сети (Anvil)

```solidity
// Основные контракты
address constant STORAGE_V1 = 0xa513E6E4b8f2a923D98304ec87F64353C4D5C853;
address constant STORAGE_V3 = 0xB7f8BC63BbcaD18155201308C8f3540b07f84F5e;
address constant GIT_CONTRACT = 0x8A791620dd6260079BF849Dc5567aDC3F2FdC318;

// Аккаунты
address constant ADMIN = 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266; // Владелец прокси
address constant PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80;//anvil